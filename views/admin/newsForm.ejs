<%- include('../partials/header') %>
<section class="news-section">
    <div class="container">
        <h1>Create News Article</h1>
        <form action="/api/v1/news" method="post" enctype="multipart/form-data">
            <div class="form-group">
                <label for="title">Title</label>
                <input type="text" class="form-control" id="title" name="title" required>
            </div>
            <div class="form-group">
                <label for="content">Content</label>
                <textarea id="editor" name="content"></textarea>
            </div>
            <!-- <div class="form-group">
                <label for="image">Image (Optional)</label>
                <input type="file" class="form-control-file" id="image" name="image">
            </div> -->
            <button type="submit" class="btn btn-primary">Submit</button>
        </form>
    </div>
</section>
<style>
    .news-section { padding: 60px 0; background: #fff; }
    .form-group { margin-bottom: 20px; }
    .form-control, .form-control-file { width: 100%; padding: 10px; }
    .btn-primary { background: #007bff; color: #fff; padding: 10px 20px; border: none; border-radius: 5px; }
    .btn-primary:hover { background: #0056b3; }
</style>
<script src="https://cdn.ckeditor.com/4.22.1/standard/ckeditor.js"></script>
<style>
    .cke_notifications_area {
      display: none !important;
    }
  </style>
<script>
    CKEDITOR.replace('editor', {
        extraPlugins: 'uploadimage',
        filebrowserUploadUrl: '/api/v1/news/upload-image',
        filebrowserImageUploadUrl: '/api/v1/news/upload-image',
        uploadUrl: '/api/v1/news/upload-image',
        height: 300
    });

    document.querySelector('form').addEventListener('submit', (e) => {
        const content = CKEDITOR.instances.editor.getData();
        if (!content) {
            e.preventDefault();
            alert('Content is required!');
        }
    });
</script>
<%- include('../partials/footer') %>